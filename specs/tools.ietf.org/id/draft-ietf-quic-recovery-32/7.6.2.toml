target = "https://tools.ietf.org/id/draft-ietf-quic-recovery-32.txt#7.6.2"

# 7.6.2.  Establishing Persistent Congestion
#
# A sender establishes persistent congestion on receiving an
# acknowledgement if at least two ack-eliciting packets are declared
# lost, and:
# 
# *  all packets, across all packet number spaces, sent between these
#    two send times are declared lost;
# 
# *  the duration between the send times of these two packets exceeds
#    the persistent congestion duration (Section 7.6.1); and
# 
# *  a prior RTT sample existed when both packets were sent.
# 
# The persistent congestion period SHOULD NOT start until there is at
# least one RTT sample.  Before the first RTT sample, a sender arms its
# PTO timer based on the initial RTT (Section 6.2.2), which could be
# substantially larger than the actual RTT.  Requiring a prior RTT
# sample prevents a sender from establishing persistent congestion with
# potentially too few probes.
# 
# Since network congestion is not affected by packet number spaces,
# persistent congestion SHOULD consider packets sent across packet
# number spaces.  A sender that does not have state for all packet
# number spaces or an implementation that cannot compare send times
# across packet number spaces MAY use state for just the packet number
# space that was acknowledged.
# 
# When persistent congestion is declared, the sender's congestion
# window MUST be reduced to the minimum congestion window
# (kMinimumWindow), similar to a TCP sender's response on an RTO
# ([RFC5681]).

[[spec]]
level = "SHOULD"
quote = '''
The persistent congestion period SHOULD NOT start until there is at
least one RTT sample.
'''

[[spec]]
level = "SHOULD"
quote = '''
Since network congestion is not affected by packet number spaces,
persistent congestion SHOULD consider packets sent across packet
number spaces.
'''

[[spec]]
level = "MAY"
quote = '''
A sender that does not have state for all packet
number spaces or an implementation that cannot compare send times
across packet number spaces MAY use state for just the packet number
space that was acknowledged.
'''

[[spec]]
level = "MUST"
quote = '''
When persistent congestion is declared, the sender's congestion
window MUST be reduced to the minimum congestion window
(kMinimumWindow), similar to a TCP sender's response on an RTO
([RFC5681]).
'''

