target = "https://tools.ietf.org/id/draft-ietf-quic-transport-32.txt#14"

# 14.  Datagram Size
#
# A UDP datagram can include one or more QUIC packets.  The datagram
# size refers to the total UDP payload size of a single UDP datagram
# carrying QUIC packets.  The datagram size includes one or more QUIC
# packet headers and protected payloads, but not the UDP or IP headers.
# 
# The maximum datagram size is defined as the largest size of UDP
# payload that can be sent across a network path using a single UDP
# datagram.
# 
# QUIC depends upon a minimum IP packet size of at least 1280 bytes.
# This is the IPv6 minimum size ([IPv6]) and is also supported by most
# modern IPv4 networks.  Assuming the minimum IP header size of 40
# bytes for IPv6 and 20 bytes for IPv4 and a UDP header size of 8
# bytes, this results in a maximum datagram size of 1232 bytes for IPv6
# and 1252 bytes for IPv4.
# 
# The maximum datagram size MUST be at least 1200 bytes.
# 
# Any maximum datagram size larger than 1200 bytes can be discovered
# using Path Maximum Transmission Unit Discovery (PMTUD; see
# Section 14.2.1) or Datagram Packetization Layer PMTU Discovery
# (DPLPMTUD; see Section 14.3).
# 
# Enforcement of the max_udp_payload_size transport parameter
# (Section 18.2) might act as an additional limit on the maximum
# datagram size.  A sender can avoid exceeding this limit, once the
# value is known.  However, prior to learning the value of the
# transport parameter, endpoints risk datagrams being lost if they send
# datagrams larger than the smallest allowed maximum datagram size of
# 1200 bytes.
# 
# UDP datagrams MUST NOT be fragmented at the IP layer.  In IPv4
# ([IPv4]), the DF bit MUST be set if possible, to prevent
# fragmentation on the path.
# 
# Datagrams are required to be of a minimum size under some conditions.
# However, the size of the datagram is not authenticated.  Therefore,
# an endpoint MUST NOT close a connection when it receives a datagram
# that does not meet size constraints, though the endpoint MAY discard
# such datagrams.

[[spec]]
level = "MUST"
quote = '''
The maximum datagram size MUST be at least 1200 bytes.
'''

[[spec]]
level = "MUST"
quote = '''
UDP datagrams MUST NOT be fragmented at the IP layer.
'''

[[spec]]
level = "MUST"
quote = '''
In IPv4
([IPv4]), the DF bit MUST be set if possible, to prevent
fragmentation on the path.
'''

[[spec]]
level = "MUST"
quote = '''
Therefore,
an endpoint MUST NOT close a connection when it receives a datagram
that does not meet size constraints, though the endpoint MAY discard
such datagrams.
'''

