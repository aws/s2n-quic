[package]
name = "s2n-quic"
version = "0.1.0"
authors = ["Cameron Bytheway <bythewc@amazon.com>", "Matthias Einwag <einwag@amazon.com>"]
edition = "2018"
license = "Apache-2.0"

[features]
default = [
    "default-tls-provider",
    "default-token-provider",
    "protocol-extensions",
    "rand-provider",
    "std",
    "tokio-runtime",
]
# Sends debug information in CONNECTION_CLOSE frames
connection-close-debug = []
default-token-provider = ["ring", "zerocopy"]
default-tls-provider = ["s2n-quic-tls-default"]
protocol-extensions = []
rand-provider = ["rand", "rand_chacha"]
rustls = ["s2n-quic-rustls"]
s2n-tls = ["s2n-quic-tls"]
std = ["bytes/std", "futures/std", "s2n-quic-core/std", "s2n-quic-platform/std", "thiserror"]
tokio-runtime = ["tokio", "s2n-quic-platform/tokio-runtime"]
tracing-provider = ["tracing"]

[dependencies]
bytes = { version = "1", default-features = false }
cfg-if = "1.0"
cuckoofilter = "0.5"
futures = { version = "0.3", default-features = false, features = ["async-await"] }
hash_hasher = "2.0"
rand = { version = "0.8", optional = true }
rand_chacha = { version = "0.3", optional = true }
ring = { version = "0.16", optional = true, default-features = false }
s2n-codec = { version = "0.1", path = "../../common/s2n-codec", default-features = false }
s2n-quic-core = { version = "0.1", path = "../s2n-quic-core", default-features = false }
s2n-quic-platform = { version = "0.1", path = "../s2n-quic-platform", default-features = false }
s2n-quic-rustls = { version = "0.1", path = "../s2n-quic-rustls", optional = true }
s2n-quic-tls = { version = "0.1", path = "../s2n-quic-tls", optional = true }
s2n-quic-tls-default = { version = "0.1", path = "../s2n-quic-tls-default", optional = true }
s2n-quic-transport = { version = "0.1", path = "../s2n-quic-transport", default-features = false }
thiserror = { version = "1.0", optional = true }
tokio = { version = "0.2", optional = true, features = ["rt-core", "time", "udp"] }
zerocopy = { version = "0.3", optional = true }
zeroize = { version = "1", default-features = false }
tracing = { version = "0.1", optional = true }

[dev-dependencies]
bolero = { version = "0.6" }
s2n-quic-core = { version = "0.1", path = "../s2n-quic-core", features = ["testing"] }
s2n-quic-platform = { version = "0.1", path = "../s2n-quic-platform", features = ["testing"] }
tokio = { version = "0.2", features = ["full"] }
