[package]
name = "s2n-quic"
version = "0.1.0"
authors = ["Cameron Bytheway <bythewc@amazon.com>", "Matthias Einwag <einwag@amazon.com>"]
edition = "2018"
license = "Apache-2.0"

[features]
default = [
    "default-tls-provider",
    "default-token-provider",
    "rand-provider",
    "std",
    "tokio-runtime",
]
# Sends debug information in CONNECTION_CLOSE frames
connection-close-debug = []
connection-migration = []
default-token-provider = ["ring", "zerocopy", "zerocopy-derive"]
default-tls-provider = ["s2n-quic-tls-default"]
packet-wipe = ["s2n-quic-platform/wipe"]
rand-provider = ["rand", "rand_chacha"]
rustls = ["s2n-quic-rustls"]
s2n-tls = ["s2n-quic-tls"]
std = [
    "bytes/std",
    "futures/std",
    "s2n-quic-core/std",
    "s2n-quic-platform/std",
    "s2n-quic-transport/std",
    "thiserror"
]
tokio-runtime = ["tokio", "s2n-quic-platform/tokio-runtime"]
tracing-provider = ["s2n-quic-core/event-tracing"]

[dependencies]
bytes = { version = "1", default-features = false }
cfg-if = "1"
cuckoofilter = "0.5"
futures = { version = "0.3", default-features = false, features = ["async-await"] }
hash_hasher = "2"
rand = { version = "0.8", optional = true }
rand_chacha = { version = "0.3", optional = true }
ring = { version = "0.16", optional = true, default-features = false }
s2n-codec = { version = "0.1", path = "../../common/s2n-codec", default-features = false }
s2n-quic-core = { version = "0.1", path = "../s2n-quic-core", default-features = false }
s2n-quic-platform = { version = "0.1", path = "../s2n-quic-platform", default-features = false }
s2n-quic-rustls = { version = "0.1", path = "../s2n-quic-rustls", optional = true }
s2n-quic-tls = { version = "0.1", path = "../s2n-quic-tls", optional = true }
s2n-quic-tls-default = { version = "0.1", path = "../s2n-quic-tls-default", optional = true }
s2n-quic-transport = { version = "0.1", path = "../s2n-quic-transport", default-features = false }
thiserror = { version = "1", optional = true }
tokio = { version = "1", optional = true, default-features = false }
zerocopy = { version = "=0.6.0", optional = true }
zerocopy-derive = { version = "=0.3.0", optional = true }
zeroize = { version = "1", default-features = false }

[dev-dependencies]
bolero = { version = "0.6" }
s2n-quic-core = { version = "0.1", path = "../s2n-quic-core", features = ["testing"] }
s2n-quic-platform = { version = "0.1", path = "../s2n-quic-platform", features = ["testing"] }
tokio = { version = "1", features = ["full"] }
